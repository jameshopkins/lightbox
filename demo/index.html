<!DOCTYPE html>
<!--To put correct ie classes on document root to essentially enable css conditionals-->
<!--[if IE 7]>         <html class="lt-ie10 lt-ie9 lt-ie8" > <![endif]-->
<!--[if IE 8]>         <html class="lt-ie10 lt-ie9" > <![endif]-->
<!--[if IE 9]>         <html class="lt-ie10" > <![endif]-->
<!--[if gt IE 9]><!--> <html lang="en" > <!--<![endif]-->
<!--end css conditionals-->
<head lang="en">
    <meta charset="UTF-8"/>
    <title>lightbox</title>

    <link rel="stylesheet" href="styles/demo.css"/>
    <link rel="stylesheet" href="styles/lightbox.css"/>
    <script type="text/javascript" src="scripts/lightbox.js"></script>
</head>
<body>

<div class="demo-container">
    <h1>lightbox
        <small  class="demo-version text--secondary">v{{ site.version }}
            <a href="{{ git.HTTPS-URL }}" class="text--secondary">
                <span class="demo-icon demo-icon--github"  aria-hidden=true></span>
                <span class="speak">Github Repo</span>
            </a></small>
    </h1>

    <p>
        <div id="demo-one"><h1>Content for demo one</h1></div>
        <button data-lightbox-control="toggle" data-lightbox-activation-control="demo-one">Demo one</button>

        <div id="demo-two"><h1>Content for demo two</h1></div>
        <button data-lightbox-activation-control="demo-two">demo two</button>

        <div id="demo-three"><h1>Content for demo three</h1></div>
        <button data-lightbox-activation-control="demo-fail">demo three</button>

        <div id="observers-one"><h1>Content for demo three</h1></div>

    </p>
</div>


<div class="demo-container">
    {{> _includes/**/*.html }}
</div>

<script type="text/javascript">

  var lightbox = skyComponents.lightbox
    .settings({ DOMActivation: true, loadPersist: true })
    .on('attach', function(lightbox) {
      lightbox.close('wahey')
    })
    .on('close', function(lightbox) {
      console.log('closed by ' + lightbox.config.context)
    })
    .attach('demo-one')
    .open()

  /*var stillNeedHelp = lightbox
    .settings({ toggle: true })
    .on('close', function(lightbox) {
      switch (lightbox.config.emitter) {
        case 'close':
          console.log('the top right close button closed this');
          break;
        case 'overlay':
          console.log('the overlay closed this')
          break;
      }
    })
    .on('open', function(lightbox) {
      switch (lightbox.config.emitter) {
        case 'system':
          console.log('a system event opened this')
          break;
        case 'control':
          console.log('the control opened this')
      }
      //if (lightbox.config.loadPersist && lightbox.config.toggle) {
      //  console.log(lightbox.config.contentId)
      //}
    })
    .on('attach', function(lightbox) {
      //if (lightbox.config.loadPersist) {
      //  hello(lightbox.config.contentId, lightbox);
      //  window.addEventListener('hashchange', function(hash) {
      //    hello(instance.config.contentId, lightbox);
      //  });
      //};
    })
    .attach('demo-two')
    .open()*/

</script>
